{% extends 'UniRanking/base.html' %}
{% block title %} So sánh | Hệ thống so sánh các trường Đại học {% endblock %}
{% block compare %} class="active" {% endblock %}
{% block body %}
<script>
    jQuery(document).ready(function(){
        jQuery('#subject-compare').click(function(){
            jQuery('#select-21, #step-2').css({"display":"block"});
            jQuery('#select-22, #select-23, #select-32, #select-33').css({"display":"none"});
            
        });
        jQuery('#group-compare').click(function(){
            jQuery('#select-21, #select-23, #select-31, #select-33').hide();
            jQuery('#select-22, #step-2').show();
            
        });
        jQuery('#university-compare').click(function(){
            jQuery('#select-21, #select-22, #select-31, #select-32').hide();
            
            jQuery('#select-23, #step-2').show();
        });    
        jQuery('#btn-23').click(function(){jQuery('#select-33').show();});
        jQuery('.btn-2').click(function(){
            jQuery('.btn-2').removeClass("btn-select");
            jQuery(this).addClass("btn-select");
            jQuery('#select-31').show();
        });
        jQuery('.btn-3').click(function(){
            jQuery(this).toggleClass('btn-select');
        });
        jQuery('.btn-22').click(function(){
            jQuery('.btn-22').removeClass("btn-select");
            jQuery(this).toggleClass("btn-select");
            jQuery('#select-32').show();
        });
    });

</script>
<div class="container-fluid after-menu" id="compare-introduce">
    <div class="row justify-content-center">
        <div class="col-lg-2 text-center">
            <i class="fa fa-object-ungroup" id="compare-icon"></i>
        </div>
        <div class="col-lg-8">
            <h1> Chức năng so sánh:</h1>
            <!-- <i class="fa fa-object-ungroup" style="font-size:96px"></i> -->
            <p class="p-large">So sánh các trường tương tự nhau hoặc so sánh các ngành đào tạo giống nhau của các trường</p><hr>
        </div>
    </div>
</div>
<div class="container-fluid select-odd" id="select-1">
    <div class="row">
        <div class="col-12">
            <h1 class="title-step">1. Chọn kiểu so sánh bạn muốn:</h1>
            <p class="title-step-des">Chọn một tùy chọn so sánh</p>
        </div>
        
    </div>
    <div class="row text-center">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <a href="#select-21" class="btn btn-success btn-lg btn-1" id="subject-compare">So sánh theo ngành</a>
                    <p>Chọn một ngành cụ thể, hệ thống sẽ lọc cho bạn các trường đào tạo ngành đó</p>
                </div>
                <div class="col-lg-4">
                    <a href="#select-22" class="btn btn-primary btn-lg btn-1" id="group-compare">So sánh nhóm 3 trường</a>
                    <p>Chọn một nhóm tối đa 3 trường có ngành mà bạn đang phân vân để so sánh</p>
                </div>
                <div class="col-lg-4">
                    <a href="#select-23" class="btn btn-warning btn-lg btn-1" id="university-compare">So sánh 1 trường cụ thể</a>
                    <p>Chọn 1 trường cụ thể và so sánh với các trường tương tụ</p>
                </div>
            </div> 
        </div>
    </div>
</div>

<div class="select-even non-display" id="select-21">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <h1 class="title-step">2. Bạn muốn so sánh ngành nào?</h1>
                <p class="title-step-des">Chọn ngành bạn muốn so sánh</p>
            </div>
        </div>
        <div class="row">   
            <div class="container">
                <div class="col-lg-6">

                    <ul class="nav flex-column">
                        {% for sub in GroupSubject %}
                        <li class="nav-item">
                            {% if sub.parent_id == NULL %} 
                            <a class="btn btn-info btn-block btn-2 full-width-btn" data-toggle="collapse" href="#group-subject-{{ sub.id }}-21"> {{ sub.name }} <span class="fa fa-sort"></span></a>
                            <div id="group-subject-{{ sub.id }}-21" class="collapse">
                                <ul class="list-group">
                                    {% for sub1 in GroupSubject %}
                                    {% if sub1.parent_id == sub.id %}
                                    <li class="btn list-group-item btn-2">{{ sub1.name }}</li>
                                    {% endif %}
                                    {% endfor %}
                                    
                                </ul> 
                            </div>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container-fluid select-even non-display" id="select-23">
    <div class="row">
        <div class="col-12">
            <h1 class="title-step">2. Bạn muốn so sánh trường nào?</h1>
            <p class="title-step-des">Chọn một trường và chúng tôi sẽ giúp bạn so sánh trường này với các trường khác</p>
        </div>
    </div>
    <div class="row text-center">
        <div class="col-12">
            <p class="p-large">Tìm kiếm theo tên Trường:</p>
            <form class="form-vertical">
                <div class="form-group">
                    <!-- <input id="compare-uni-search-23" type="text" class="form-control center-form" placeholder="Tìm kiếm"/> -->
                    <select namw="state[]" class="multiple-select-23" multiple="multiple">
                        {% for uni in University %}
                        <option value="{{ uni.id }}-23">{{ uni.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <a id="btn-23" class="btn btn-success" href="#select-33">Chọn</a>
            </form>
        </div>
    </div>
</div>
<div class="container-fluid select-even non-display" id="select-22">
    <div class="row">
        <h1 class="title-step">2. Các trường bạn đang phân vân thuộc ngành nào?</h1>
        <p class="title-step-des">Trước khi chọn ra các trường bạn thích, hãy chọn ra ngành mà bạn muốn so sánh</p>

    </div>
    <div class="row">   
        <div class="container">
            <div class="col-lg-6">

                <ul class="nav flex-column">
                    {% for sub in GroupSubject %}
                    <li class="nav-item">
                        {% if sub.parent_id == NULL %} 
                        <a class="btn btn-info btn-block btn-22 full-width-btn" data-toggle="collapse" href="#group-subject-{{ sub.id }}-22"> {{ sub.name }} <span class="fa fa-sort"></span></a>
                        <div id="group-subject-{{ sub.id }}-22" class="collapse">
                            <ul class="list-group">
                                {% for sub1 in GroupSubject %}
                                {% if sub1.parent_id == sub.id %}
                                <li class="btn list-group-item btn-22">{{ sub1.name }}</li>
                                {% endif %}
                                {% endfor %}

                            </ul> 
                        </div>
                        {% endif %}
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
<div id="select-31" class="non-display select-odd">
    <div class="container-fluid">
        <div class="row">
            <h1 class="title-step">3. Bạn muốn so sánh những phương diện nào của các trường?</h1>
            <p class="title-step-des">Chọn phương diện để so sánh, hay nói cách khác là các tiêu chí so sánh thể hiện trên bảng</p>
        </div> 
        <div class="row">
            <div class="container">
                {% for caCr in CategoryCriterion %}
                <div class="row cri-select">
                    <div class="col-lg-3">
                        <btn class="btn btn-info btn-3-cg cri-group-title">{{ caCr.name }}</btn>
                        <btn class="btn btn-success btn-sm half-btn cri-group-{{ caCr.id }}-s-31">Chọn tất cả</btn>
                        <btn class="btn btn-warning btn-sm half-btn cri-group-{{ caCr.id }}-r-31">Huỷ tất cả</btn>
                    </div>
                    <div class="col-lg-9">
                        <div class="row">
                            {% for crit in Criterion %}
                            {% if crit.category_id == caCr.id %}
                            <div class="col-sm-6">
                                <btn class="btn btn-info btn-3 btn-31-1 cri-{{ caCr.id }}-31">{{ crit.name }}</btn>
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>
                        
                    </div>
                </div>
                {% endfor %}
                
                <div class="row text-center">
                    <div class="col-12">
                        <a class="btn btn-success">So sánh</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="select-32" class="non-display select-odd">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <h1 class="title-step">3. Bạn muốn so sánh những trường nào?</h1>
                <p class="title-step-des">Chọn tối da 5 trường để so sánh</p>
            </div>
        </div>
        <div class="row text-center">
            <div class="col-12">
                <div class="p-large">Tên trường bạn muốn so sánh:</div>
                <form class="form-vertical">
                    <div class="form-group">
                        <!-- <input id="compare-uni-search-32" type="text" class="form-control center-form" placeholder="Tên trường"> -->
                        <select name="state[]" class="multiple-select-32" multiple="multiple">
                            {% for uni in University %}
                            <option value="{{ uni.id }}-32">{{ uni.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <!-- <a class="btn btn-info">Thêm trường 1/5</a> -->
                    <a class="btn btn-success">So sánh</a>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="select-33" class="non-display select-odd">
    <div class="container-fluid">
        <div class="row">
            <h1 class="title-step">3. Bạn muốn so sánh những phương diện nào của các trường?</h1>
            <p class="title-step-des">Chọn phương diện để so sánh, hay nói cách khác là các tiêu chí so sánh thể hiện trên bảng</p>
        </div> 
        <div class="row">
            <div class="container">
                {% for caCr in CategoryCriterion %}
                <div class="row cri-select">
                    <div class="col-lg-3">
                        <btn class="btn btn-info btn-3-cg cri-group-title ">{{ caCr.name }}</btn>
                        <btn class="btn btn-success btn-sm half-btn cri-group-{{ caCr.id }}-s-33">Chọn tất cả</btn>
                        <btn class="btn btn-warning btn-sm half-btn cri-group-{{ caCr.id }}-r-33">Huỷ tất cả</btn>
                    </div>
                    <div class="col-lg-9">
                        <div class="row">
                            {% for crit in Criterion %}
                            {% if crit.category_id == caCr.id %}
                            <div class="col-sm-6">
                                <btn class="btn btn-info btn-3 btn-31-1 cri-{{ caCr.id }}-33">{{ crit.name }}</btn>
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>
                        
                    </div>
                </div>
                {% endfor %}
                
                <div class="row text-center">
                    <div class="col-12">
                        <a class="btn btn-success">So sánh</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="step text-center" id="step-1">
    <p class="p-large">1</p>
</div>
<div class="step text-center" id="step-2">
    <p class="p-large">2</p>
</div>
<script>
    // var uniName=["Đại Học Quốc Gia Hà Nội","Đại Học Ngoại Thương","Đại Học Bách Khoa Hà Nội","Đại Học Kinh Tế Quốc Dân","Học Viện Tài Chính","Học Viện Ngân Hàng"];
    jQuery(document).ready(function(){
        // jQuery('#compare-uni-search').autocomplete({
        //     source: uniName 
        // });
        $('.multiple-select-32').select2({maximumSelectionLength: 5});
        jQuery('.multiple-select-23').select2({maximumSelectionLength: 1});
        {% for cacr in CategoryCriterion %}
        $('.cri-group-{{ cacr.id }}-s-33').click(function(){
            $('.cri-{{ cacr.id }}-33').addClass('btn-select');
        });
        $('.cri-group-{{ cacr.id }}-r-33').click(function() {
            $('.cri-{{ cacr.id }}-33').removeClass('btn-select');
        });
        $('.cri-group-{{ cacr.id }}-s-31').click(function(){
            $('.cri-{{ cacr.id }}-31').addClass('btn-select');
        });
        $('.cri-group-{{ cacr.id }}-r-31').click(function() {
            $('.cri-{{ cacr.id }}-31').removeClass('btn-select');
        });
        {% endfor %}
    });
</script>

{% endblock %}
